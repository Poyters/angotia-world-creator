{"ast":null,"code":"import { store } from '../../App';\n\nvar dragElement = function dragElement(element) {\n  var positions = [0, 0, 0, 0];\n\n  var dragMouseDown = function dragMouseDown(e) {\n    e.preventDefault();\n    positions[2] = e.clientX;\n    positions[3] = e.clientY;\n    document.onmouseup = closeDragElement;\n    document.onmousemove = elementDrag;\n  };\n\n  var elementDrag = function elementDrag(e) {\n    var storeData = store.getState();\n    var selectType = storeData.map.select.type;\n    if (selectType === 'mouse') return;\n    e.preventDefault();\n    positions[0] = positions[2] - e.clientX;\n    positions[1] = positions[3] - e.clientY;\n    positions[2] = e.clientX;\n    positions[3] = e.clientY;\n    element.style.top = element.offsetTop - positions[1] + \"px\";\n    element.style.left = element.offsetLeft - positions[0] + \"px\";\n  };\n\n  var closeDragElement = function closeDragElement() {\n    // stop moving when mouse button is released:\n    document.onmouseup = null;\n    document.onmousemove = null;\n  };\n\n  element.onmousedown = dragMouseDown;\n};\n\nexport default dragElement;","map":{"version":3,"sources":["/home/kostek/Documents/Programming/angotia-map-creator/src/assets/scripts/dragElement.ts"],"names":["store","dragElement","element","positions","dragMouseDown","e","preventDefault","clientX","clientY","document","onmouseup","closeDragElement","onmousemove","elementDrag","storeData","getState","selectType","map","select","type","style","top","offsetTop","left","offsetLeft","onmousedown"],"mappings":"AAAA,SAASA,KAAT,QAAsB,WAAtB;;AAGA,IAAMC,WAAW,GAAG,SAAdA,WAAc,CAACC,OAAD,EAAiB;AACnC,MAAIC,SAAuB,GAAG,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,CAA9B;;AAEA,MAAMC,aAAa,GAAG,SAAhBA,aAAgB,CAACC,CAAD,EAAyB;AAC7CA,IAAAA,CAAC,CAACC,cAAF;AAEAH,IAAAA,SAAS,CAAC,CAAD,CAAT,GAAeE,CAAC,CAACE,OAAjB;AACAJ,IAAAA,SAAS,CAAC,CAAD,CAAT,GAAeE,CAAC,CAACG,OAAjB;AACAC,IAAAA,QAAQ,CAACC,SAAT,GAAqBC,gBAArB;AACAF,IAAAA,QAAQ,CAACG,WAAT,GAAuBC,WAAvB;AACD,GAPD;;AASA,MAAMA,WAAW,GAAG,SAAdA,WAAc,CAACR,CAAD,EAAyB;AAC3C,QAAMS,SAAS,GAAGd,KAAK,CAACe,QAAN,EAAlB;AACA,QAAMC,UAAU,GAAGF,SAAS,CAACG,GAAV,CAAcC,MAAd,CAAqBC,IAAxC;AAEA,QAAIH,UAAU,KAAK,OAAnB,EAA4B;AAE5BX,IAAAA,CAAC,CAACC,cAAF;AAEAH,IAAAA,SAAS,CAAC,CAAD,CAAT,GAAeA,SAAS,CAAC,CAAD,CAAT,GAAeE,CAAC,CAACE,OAAhC;AACAJ,IAAAA,SAAS,CAAC,CAAD,CAAT,GAAeA,SAAS,CAAC,CAAD,CAAT,GAAeE,CAAC,CAACG,OAAhC;AACAL,IAAAA,SAAS,CAAC,CAAD,CAAT,GAAeE,CAAC,CAACE,OAAjB;AACAJ,IAAAA,SAAS,CAAC,CAAD,CAAT,GAAeE,CAAC,CAACG,OAAjB;AAEAN,IAAAA,OAAO,CAACkB,KAAR,CAAcC,GAAd,GAAqBnB,OAAO,CAACoB,SAAR,GAAoBnB,SAAS,CAAC,CAAD,CAA9B,GAAqC,IAAzD;AACAD,IAAAA,OAAO,CAACkB,KAAR,CAAcG,IAAd,GAAsBrB,OAAO,CAACsB,UAAR,GAAqBrB,SAAS,CAAC,CAAD,CAA/B,GAAsC,IAA3D;AACD,GAfD;;AAiBA,MAAMQ,gBAAgB,GAAG,SAAnBA,gBAAmB,GAAY;AACnC;AACAF,IAAAA,QAAQ,CAACC,SAAT,GAAqB,IAArB;AACAD,IAAAA,QAAQ,CAACG,WAAT,GAAuB,IAAvB;AACD,GAJD;;AAMAV,EAAAA,OAAO,CAACuB,WAAR,GAAsBrB,aAAtB;AACD,CApCD;;AAsCA,eAAeH,WAAf","sourcesContent":["import { store } from '../../App';\n\n\nconst dragElement = (element:any) => {\n  let positions:Array<number> = [0, 0, 0, 0];\n  \n  const dragMouseDown = (e: MouseEvent): void => {\n    e.preventDefault();\n\n    positions[2] = e.clientX;\n    positions[3] = e.clientY;\n    document.onmouseup = closeDragElement;\n    document.onmousemove = elementDrag;\n  }\n\n  const elementDrag = (e: MouseEvent): void => {\n    const storeData = store.getState();\n    const selectType = storeData.map.select.type;\n\n    if (selectType === 'mouse') return;\n    \n    e.preventDefault();\n\n    positions[0] = positions[2] - e.clientX;\n    positions[1] = positions[3] - e.clientY;\n    positions[2] = e.clientX;\n    positions[3] = e.clientY;\n\n    element.style.top = (element.offsetTop - positions[1]) + \"px\";\n    element.style.left = (element.offsetLeft - positions[0]) + \"px\";\n  }\n\n  const closeDragElement = (): void => {\n    // stop moving when mouse button is released:\n    document.onmouseup = null;\n    document.onmousemove = null;\n  }\n\n  element.onmousedown = dragMouseDown;\n}\n\nexport default dragElement;"]},"metadata":{},"sourceType":"module"}