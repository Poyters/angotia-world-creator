{"ast":null,"code":"var _jsxFileName = \"/home/kostek/Documents/Programming/angotia-map-creator/src/components/partials/creatorPanel/AddFileOption.tsx\";\nimport React from 'react';\nimport { useSelector, useDispatch } from 'react-redux'; //Import actions\n\nimport { setMapBg } from '../../../redux/actions/mapActions'; //Import scripts\n\nimport { setActionNote } from '../../../assets/scripts/notifications';\n\nvar AddFileOption = function AddFileOption() {\n  var mapPic = useSelector(function (state) {\n    return state.map.mapPic;\n  });\n  var dispatch = useDispatch();\n\n  var handleFileSelect = function handleFileSelect(evt) {\n    var f = evt.target.files[0];\n    var reader = new FileReader();\n\n    reader.onload = function () {\n      return function (e) {\n        var path = e.target.result;\n        dispatch(setMapBg(path));\n      };\n    }();\n\n    reader.readAsDataURL(f);\n    setActionNote(\"Added background image\");\n  };\n\n  var optionOnOff = mapPic === \"\" ? 'option--off' : 'option--on';\n  return React.createElement(React.Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    className: \"option option--addFile\",\n    type: \"file\",\n    id: \"file\",\n    name: \"files[]\",\n    onChange: function onChange(evt) {\n      return handleFileSelect(evt);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  }), React.createElement(\"label\", {\n    className: optionOnOff,\n    htmlFor: \"file\",\n    \"data-title\": \"set background image\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }));\n};\n\nexport default AddFileOption;","map":{"version":3,"sources":["/home/kostek/Documents/Programming/angotia-map-creator/src/components/partials/creatorPanel/AddFileOption.tsx"],"names":["React","useSelector","useDispatch","setMapBg","setActionNote","AddFileOption","mapPic","state","map","dispatch","handleFileSelect","evt","f","target","files","reader","FileReader","onload","e","path","result","readAsDataURL","optionOnOff"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC,C,CAEA;;AACA,SAASC,QAAT,QAAyB,mCAAzB,C,CAEA;;AACA,SAASC,aAAT,QAA8B,uCAA9B;;AAGA,IAAMC,aAAuB,GAAG,SAA1BA,aAA0B,GAAM;AACpC,MAAMC,MAAM,GAAGL,WAAW,CAAC,UAAAM,KAAK;AAAA,WAAIA,KAAK,CAACC,GAAN,CAAUF,MAAd;AAAA,GAAN,CAA1B;AACA,MAAMG,QAAQ,GAAGP,WAAW,EAA5B;;AAEA,MAAMQ,gBAAgB,GAAG,SAAnBA,gBAAmB,CAACC,GAAD,EAAc;AACrC,QAAMC,CAAC,GAAGD,GAAG,CAACE,MAAJ,CAAWC,KAAX,CAAiB,CAAjB,CAAV;AACA,QAAMC,MAAM,GAAG,IAAIC,UAAJ,EAAf;;AAEAD,IAAAA,MAAM,CAACE,MAAP,GAAiB,YAAU;AACzB,aAAO,UAAAC,CAAC,EAAI;AACV,YAAMC,IAAY,GAAGD,CAAC,CAACL,MAAF,CAASO,MAA9B;AACAX,QAAAA,QAAQ,CAACN,QAAQ,CAACgB,IAAD,CAAT,CAAR;AACD,OAHD;AAKD,KANe,EAAhB;;AAQAJ,IAAAA,MAAM,CAACM,aAAP,CAAqBT,CAArB;AACAR,IAAAA,aAAa,CAAC,wBAAD,CAAb;AACD,GAdD;;AAgBA,MAAMkB,WAAmB,GAAGhB,MAAM,KAAK,EAAX,GAAgB,aAAhB,GAAgC,YAA5D;AAEA,SACE,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAO,IAAA,SAAS,EAAC,wBAAjB;AAA0C,IAAA,IAAI,EAAC,MAA/C;AAAsD,IAAA,EAAE,EAAC,MAAzD;AAAgE,IAAA,IAAI,EAAC,SAArE;AAA+E,IAAA,QAAQ,EAAE,kBAAAK,GAAG;AAAA,aAAID,gBAAgB,CAACC,GAAD,CAApB;AAAA,KAA5F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEE;AAAO,IAAA,SAAS,EAAEW,WAAlB;AAA+B,IAAA,OAAO,EAAC,MAAvC;AAA8C,kBAAW,sBAAzD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CADF;AAMD,CA5BD;;AA+BA,eAAejB,aAAf","sourcesContent":["import React from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\n\n//Import actions\nimport { setMapBg } from '../../../redux/actions/mapActions';\n\n//Import scripts\nimport { setActionNote } from '../../../assets/scripts/notifications';\n\n\nconst AddFileOption: React.FC = () => {\n  const mapPic = useSelector(state => state.map.mapPic);\n  const dispatch = useDispatch();\n\n  const handleFileSelect = (evt: any) => {\n    const f = evt.target.files[0]; \n    const reader = new FileReader();\n\n    reader.onload = (():any => {\n      return e => {\n        const path: string = e.target.result;\n        dispatch(setMapBg(path));\n      };\n\n    })();\n\n    reader.readAsDataURL(f);\n    setActionNote(\"Added background image\");\n  }\n\n  const optionOnOff: string = mapPic === \"\" ? 'option--off' : 'option--on';\n\n  return (\n    <React.Fragment>\n      <input className=\"option option--addFile\" type=\"file\" id=\"file\" name=\"files[]\" onChange={evt => handleFileSelect(evt)}/>\n      <label className={optionOnOff} htmlFor=\"file\" data-title=\"set background image\"></label>\n    </React.Fragment>\n  );\n}\n\n\nexport default AddFileOption;"]},"metadata":{},"sourceType":"module"}